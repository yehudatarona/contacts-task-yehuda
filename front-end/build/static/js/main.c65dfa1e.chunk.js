(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{11:function(e,t,a){},23:function(e,t,a){"use strict";(function(e){var n=a(9),c=a.n(n),l=a(14),r=a(8),s=a(0),o=a.n(s),m=a(3),i=a(24);a(11);t.a=function(t){var a=Object(s.useState)("d-none"),n=Object(r.a)(a,2),d=n[0],u=n[1],E=Object(s.useState)([]),f=Object(r.a)(E,2),v=f[0],p=f[1],N=Object(s.useState)(0),b=Object(r.a)(N,2),h=b[0],g=b[1],_=Object(s.useState)({}),x=Object(r.a)(_,2),j=x[0],w=x[1];Object(s.useEffect)((function(){document.getElementById("id_dark").className=d}),[d]),Object(s.useEffect)((function(){var e=m.a+"users";Object(m.b)(e).then((function(e){console.log("contactsList",e),p(e)}))}),[h]);var y=function(){var t=Object(l.a)(c.a.mark((function t(a){var n,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.confirm("Are you sure you want to delete?")){t.next=8;break}return n=m.a+"users/del",t.next=5,Object(m.c)(n,{del:a});case 5:l=t.sent,console.log(l),l.message?g(h+1):alert("error something not work!");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return o.a.createElement("div",{className:"container-fluid "},o.a.createElement("div",{id:"id_dark",className:"dark container-fluid center"},o.a.createElement(i.a,{setDarkState:u,item:j,setContactsArr:p})),o.a.createElement("div",{className:"container"},o.a.createElement("h2",{className:"text-center mt-4 display-4 text-info"},"Contacts list in the system"),o.a.createElement("table",{className:"table table-striped mt-4"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"#"),o.a.createElement("th",null,"First Name"),o.a.createElement("th",null,"Last Name"),o.a.createElement("th",null,"Email"),o.a.createElement("th",null,"Area Code"),o.a.createElement("th",null,"Phone"),o.a.createElement("th",null,"Edit/delete"))),o.a.createElement("tbody",null,v.map((function(e,t){return o.a.createElement("tr",{key:e._id},o.a.createElement("td",{className:"align-middle"},t+1),o.a.createElement("td",{className:"align-middle"},e.first_name),o.a.createElement("td",{className:"align-middle"},e.last_name),o.a.createElement("td",{className:"align-middle"},e.email),o.a.createElement("td",{className:"align-middle"},e.area_code),o.a.createElement("td",{className:"align-middle"},e.phone),o.a.createElement("td",{className:"align-middle"},o.a.createElement("button",{onClick:function(){u("dark container-fluid center"),w(e)},className:"btn btn-warning mr-2"},"Edit"),o.a.createElement("button",{onClick:function(){y(e._id)},className:"btn btn-danger mr-2"},"Del")))}))))))}}).call(this,a(19))},24:function(e,t,a){"use strict";var n=a(13),c=a(8),l=a(0),r=a.n(l),s=(a(11),a(3));t.a=function(e){var t,a=Object(l.useState)(0),o=Object(c.a)(a,2),m=o[0],i=o[1],d=e.item;return Object(l.useEffect)((function(){document.getElementById("id_error").innerHTML="";var t=s.a+"users";Object(s.b)(t).then((function(t){console.log("contactsList",t),e.setContactsArr(t)}))}),[m]),r.a.createElement("div",{className:"dark_inside text-center "},r.a.createElement("div",{className:"d-flex justify-content-center align-items-center py-3 "},r.a.createElement("form",{className:"col text-center mt-1 ",onSubmit:function(t){t.preventDefault();t.target.id_phone;10===t.target.id_phone.value.length&&"0"===t.target.id_phone.value[0]&&(t.target.id_phone.value=t.target.id_phone.value.substring(1));var a={id:d._id,first_name:t.target.first_name.value,last_name:t.target.last_name.value,email:t.target.id_email.value,area_code:t.target.id_code.value,phone:t.target.id_phone.value};Object(s.c)(s.a+"users/edit",a).then((function(t){1==t.nModified?(i(m+1),e.setDarkState("d-none")):(console.log("data.message",t.message),document.getElementById("id_error").innerHTML="Error: "+t.message)}))}},r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-3"},r.a.createElement("label",{className:"float-left"},"First Name: ")),r.a.createElement("div",{className:"col-9"},r.a.createElement("input",{id:"first_name",type:"text",className:"form-control",placeholder:"First Name",defaultValue:d.first_name}))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-3"},r.a.createElement("label",{className:"float-left"},"Last Name:")),r.a.createElement("div",{className:"col-9"},r.a.createElement("input",{id:"last_name",type:"text",className:"form-control",placeholder:"Last Name",defaultValue:d.last_name}))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-3"},r.a.createElement("label",{className:"float-left"},"Email:")),r.a.createElement("div",{className:"col-9"},r.a.createElement("input",{id:"id_email",type:"text",className:"form-control",placeholder:"Email",defaultValue:d.email}))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-3"},r.a.createElement("label",{className:"float-left"},"Phone:")),r.a.createElement("div",{className:"col-3"},r.a.createElement("select",{className:"form-control",id:"id_code"},r.a.createElement("option",{value:d.area_code},d.area_code),r.a.createElement("option",{value:"+972"},"+972"),r.a.createElement("option",{value:"+39"},"+39"),r.a.createElement("option",{value:"+1"},"+1"),r.a.createElement("option",{value:"+595"},"+595"),r.a.createElement("option",{value:"+678"},"+678"))),r.a.createElement("div",{className:"col-6"},r.a.createElement("input",(t={id:"id_pass",type:"text",className:"form-control",placeholder:"Phone number"},Object(n.a)(t,"id","id_phone"),Object(n.a)(t,"defaultValue",d.phone),t)))),r.a.createElement("div",{className:" text-center"},r.a.createElement("button",{className:"btn btn-danger mr-3 ",onClick:function(){e.setDarkState("d-none")}},"Close"),r.a.createElement("button",{className:"btn btn-info"},"Update"),r.a.createElement("div",{className:"text-left"},r.a.createElement("div",{id:"id_error",className:"text-danger mt-2"}))))))}},25:function(e,t,a){e.exports=a(38)},3:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o}));var n=a(9),c=a.n(n),l=a(14),r="https://ideodigital-contacts-task.herokuapp.com/",s=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",body:JSON.stringify(a),headers:{"content-type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:return l=e.sent,console.log("service say:",l),e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},30:function(e,t,a){},31:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},32:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(21),r=a.n(l),s=(a(30),a(31),a(32),a(13)),o=a(1),m=a(3),i=a(7);a(11);var d=function(e){var t=Object(o.e)();return c.a.createElement("div",{className:"container registr"},c.a.createElement("h1",{className:"mt-5 text-center"},"Contact Registration"),c.a.createElement("div",{className:"col new"},c.a.createElement("form",{className:"col-lg-6",onSubmit:function(e){e.preventDefault();var a=e.target.id_phone;10===a.value.length&&"0"===a.value[0]&&(a=a.value.substring(1));var n={first_name:e.target.first_name.value,last_name:e.target.last_name.value,email:e.target.id_email.value,area_code:e.target.id_code.value,phone:a},c=m.a+"users/add";Object(m.c)(c,n).then((function(e){e.message?(console.log("data.message",e.message),alert(e.message)):(console.log("data",e),t.push("/contacts/"))}))}},c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-3"},c.a.createElement("label",{className:"float-left"},"First Name: ")),c.a.createElement("div",{className:"col-9"},c.a.createElement("input",{id:"first_name",type:"text",className:"form-control",placeholder:"First Name"}))),c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-3"},c.a.createElement("label",{className:"float-left"},"Last Name:")),c.a.createElement("div",{className:"col-9"},c.a.createElement("input",{id:"last_name",type:"text",className:"form-control",placeholder:"Last Name"}))),c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-3"},c.a.createElement("label",{className:"float-left"},"Email:")),c.a.createElement("div",{className:"col-9"},c.a.createElement("input",{id:"id_email",type:"text",className:"form-control",placeholder:"Email"}))),c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-3"},c.a.createElement("label",{className:"float-left"},"Phone:")),c.a.createElement("div",{className:"col-3"},c.a.createElement("select",{className:"form-control",id:"id_code"},c.a.createElement("option",{value:""},"area code"),c.a.createElement("option",{value:"+972"},"+972"),c.a.createElement("option",{value:"+39"},"+39"),c.a.createElement("option",{value:"+1"},"+1"),c.a.createElement("option",{value:"+595"},"+595"),c.a.createElement("option",{value:"+678"},"+678"))),c.a.createElement("div",{className:"col-6"},c.a.createElement("input",Object(s.a)({id:"id_pass",type:"text",className:"form-control",placeholder:"Phone number"},"id","id_phone")))),c.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},c.a.createElement("button",{className:"btn btn-success mt-3 w-25"},"Add"),c.a.createElement(i.b,{to:"/contacts/",className:"btn btn-info mt-3"},"show contacts")))))},u=a(23),E=a(8);var f=function(e){var t=Object(n.useState)(""),a=Object(E.a)(t,2),l=a[0],r=a[1];return Object(n.useEffect)((function(){var e=m.a+"users/countContacts";Object(m.b)(e).then((function(e){console.log(e.doucuments),r(e.doucuments)}))}),[]),c.a.createElement("div",{className:"container new"},c.a.createElement("div",{className:"border border-info rounded bg-info text-white p-3 display-4 "},"count of contacts is: ",c.a.createElement("span",{className:"text-warning"},l)))};var v=function(e){return c.a.createElement("nav",{className:"container bg-secondary text-dark d-flex align-items-center"},c.a.createElement("div",{className:"row"},c.a.createElement(i.b,{to:"/",className:"text-decoration-none"},"Registration"),c.a.createElement(i.b,{to:"/contacts/",className:"text-decoration-none"},"Contacts Table"),c.a.createElement(i.b,{to:"/total/",className:"text-decoration-none"},"Total contacts")))};var p=function(e){return c.a.createElement("div",{className:"backg"},c.a.createElement(i.a,null,c.a.createElement(v,null),c.a.createElement(o.a,{exact:!0,path:"/",component:d}),c.a.createElement(o.a,{exact:!0,path:"/contacts/",component:u.a}),c.a.createElement(o.a,{exact:!0,path:"/total/",component:f})))};var N=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.c65dfa1e.chunk.js.map